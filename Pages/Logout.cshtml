@page
@using static Microsoft.AspNetCore.Mvc.RazorPages.PageBase;
@using System.Text.RegularExpressions;
@using Microsoft.AspNetCore.Http
@model LogoutModel
@{
    ViewData["Title"] = "Logout";
}

<h1>@ViewData["Title"]</h1>

@{
    string? user = HttpContext.Session.GetString("Username");
    if (HttpContext.Session.GetInt32("IsLoggedIn") == 1 && user != null)
    {
        <p>You're currently logged in as "@user".</p>
    }
    else
    {
        <p>You're not currently logged in.</p>
    }
}
<!-- Login Form -->
@{
    if(HttpContext.Session.GetInt32("IsLoggedIn") == 1)
    {
        <form method="post">
            <fieldset>
                <div>
                    <label>&nbsp;</label>
                    <input type="submit" value="Logout" class="submit" />
                </div>
            </fieldset>
        </form>
    }
}